datos agregados
datos agregados
datos agregados
Hecho!!
Hecho!!
FATAL:  terminando la conexi贸n debido a una orden del administrador
FATAL:  terminando la conexi贸n debido a una orden del administrador
rake aborted!
ActiveRecord::StatementInvalid: PG::ConnectionBad: PQsocket() can't get socket descriptor: ROLLBACK
rake aborted!
ActiveRecord::StatementInvalid: PG::ConnectionBad: PQsocket() can't get socket descriptor: ROLLBACK
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block (2 levels) in log'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:611:in `block in log'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:603:in `log'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:146:in `exec_rollback_db_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/database_statements.rb:288:in `rollback_db_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/query_cache.rb:17:in `rollback_db_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:135:in `rollback'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:185:in `block in rollback_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:183:in `rollback_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:197:in `rescue in block in within_new_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:214:in `block in within_new_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:210:in `transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/persistence.rb:283:in `update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/relation.rb:413:in `block in update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/relation.rb:413:in `each'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/relation.rb:413:in `update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/querying.rb:8:in `update'
/home/cristian/CryptoApp/lib/tasks/demo.rake:456:in `block (3 levels) in <top (required)>'
/home/cristian/CryptoApp/lib/tasks/demo.rake:449:in `each'
/home/cristian/CryptoApp/lib/tasks/demo.rake:449:in `block (2 levels) in <top (required)>'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/rake-12.3.0/exe/rake:27:in `<top (required)>'
/home/cristian/.rvm/gems/ruby-2.4.1/bin/ruby_executable_hooks:15:in `eval'
/home/cristian/.rvm/gems/ruby-2.4.1/bin/ruby_executable_hooks:15:in `<main>'

Caused by:
PG::ConnectionBad: PQsocket() can't get socket descriptor
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block (2 levels) in log'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:611:in `block in log'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:603:in `log'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:146:in `exec_rollback_db_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/database_statements.rb:288:in `rollback_db_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/query_cache.rb:17:in `rollback_db_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:135:in `rollback'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:185:in `block in rollback_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:183:in `rollback_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:197:in `rescue in block in within_new_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:214:in `block in within_new_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:210:in `transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/persistence.rb:283:in `update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/relation.rb:413:in `block in update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/relation.rb:413:in `each'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/relation.rb:413:in `update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/querying.rb:8:in `update'
/home/cristian/CryptoApp/lib/tasks/demo.rake:456:in `block (3 levels) in <top (required)>'
/home/cristian/CryptoApp/lib/tasks/demo.rake:449:in `each'
/home/cristian/CryptoApp/lib/tasks/demo.rake:449:in `block (2 levels) in <top (required)>'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/rake-12.3.0/exe/rake:27:in `<top (required)>'
/home/cristian/.rvm/gems/ruby-2.4.1/bin/ruby_executable_hooks:15:in `eval'
/home/cristian/.rvm/gems/ruby-2.4.1/bin/ruby_executable_hooks:15:in `<main>'

Caused by:
PG::ConnectionBad: PQsocket() can't get socket descriptor
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block (2 levels) in log'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:611:in `block in log'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:603:in `log'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:146:in `exec_rollback_db_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/database_statements.rb:288:in `rollback_db_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/query_cache.rb:17:in `rollback_db_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:135:in `rollback'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:185:in `block in rollback_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:183:in `rollback_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:197:in `rescue in block in within_new_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:214:in `block in within_new_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:210:in `transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/persistence.rb:283:in `update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/relation.rb:413:in `block in update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/relation.rb:413:in `each'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/relation.rb:413:in `update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/querying.rb:8:in `update'
/home/cristian/CryptoApp/lib/tasks/demo.rake:456:in `block (3 levels) in <top (required)>'
/home/cristian/CryptoApp/lib/tasks/demo.rake:449:in `each'
/home/cristian/CryptoApp/lib/tasks/demo.rake:449:in `block (2 levels) in <top (required)>'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/rake-12.3.0/exe/rake:27:in `<top (required)>'
/home/cristian/.rvm/gems/ruby-2.4.1/bin/ruby_executable_hooks:15:in `eval'
/home/cristian/.rvm/gems/ruby-2.4.1/bin/ruby_executable_hooks:15:in `<main>'

Caused by:
ActiveRecord::StatementInvalid: PG::ConnectionBad: PQconsumeInput() server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
: UPDATE "cryptohistories" SET "date" = $1, "open" = $2, "close" = $3, "high" = $4, "low" = $5, "avg" = $6 WHERE "cryptohistories"."id" = $7
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block (2 levels) in log'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:611:in `block in log'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:603:in `log'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:146:in `exec_rollback_db_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/database_statements.rb:288:in `rollback_db_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/query_cache.rb:17:in `rollback_db_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:135:in `rollback'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:185:in `block in rollback_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:183:in `rollback_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:197:in `rescue in block in within_new_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:214:in `block in within_new_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:210:in `transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/persistence.rb:283:in `update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/relation.rb:413:in `block in update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/relation.rb:413:in `each'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/relation.rb:413:in `update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/querying.rb:8:in `update'
/home/cristian/CryptoApp/lib/tasks/demo.rake:456:in `block (3 levels) in <top (required)>'
/home/cristian/CryptoApp/lib/tasks/demo.rake:449:in `each'
/home/cristian/CryptoApp/lib/tasks/demo.rake:449:in `block (2 levels) in <top (required)>'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/rake-12.3.0/exe/rake:27:in `<top (required)>'
/home/cristian/.rvm/gems/ruby-2.4.1/bin/ruby_executable_hooks:15:in `eval'
/home/cristian/.rvm/gems/ruby-2.4.1/bin/ruby_executable_hooks:15:in `<main>'

Caused by:
ActiveRecord::StatementInvalid: PG::ConnectionBad: PQconsumeInput() server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
: UPDATE "cryptohistories" SET "date" = $1, "open" = $2, "close" = $3, "high" = $4, "low" = $5, "avg" = $6 WHERE "cryptohistories"."id" = $7
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `async_exec'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `block (2 levels) in exec_no_cache'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql_adapter.rb:613:in `block in exec_no_cache'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block (2 levels) in log'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:611:in `block in log'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:603:in `log'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql_adapter.rb:612:in `exec_no_cache'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:92:in `exec_delete'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/database_statements.rb:140:in `update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/query_cache.rb:17:in `update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/relation.rb:85:in `_update_record'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/persistence.rb:575:in `_update_record'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/locking/optimistic.rb:80:in `_update_record'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/attribute_methods/dirty.rb:292:in `_update_record'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/callbacks.rb:344:in `block in _update_record'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:131:in `run_callbacks'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:827:in `_run_update_callbacks'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/callbacks.rb:344:in `_update_record'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/timestamp.rb:107:in `_update_record'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/persistence.rb:563:in `create_or_update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/callbacks.rb:336:in `block in create_or_update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:131:in `run_callbacks'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:827:in `_run_save_callbacks'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/callbacks.rb:336:in `create_or_update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/persistence.rb:129:in `save'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/validations.rb:44:in `save'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/attribute_methods/dirty.rb:35:in `save'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:308:in `block (2 levels) in save'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:384:in `block in with_transaction_returning_status'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/database_statements.rb:233:in `transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:210:in `transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:308:in `block in save'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:323:in `rollback_active_record_state!'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:307:in `save'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/suppressor.rb:42:in `save'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/persistence.rb:285:in `block in update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:384:in `block in with_transaction_returning_status'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `block in transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:194:in `block in within_new_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:210:in `transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/persistence.rb:283:in `update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/relation.rb:413:in `block in update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/relation.rb:413:in `each'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/relation.rb:413:in `update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/querying.rb:8:in `update'
/home/cristian/CryptoApp/lib/tasks/demo.rake:456:in `block (3 levels) in <top (required)>'
/home/cristian/CryptoApp/lib/tasks/demo.rake:449:in `each'
/home/cristian/CryptoApp/lib/tasks/demo.rake:449:in `block (2 levels) in <top (required)>'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/rake-12.3.0/exe/rake:27:in `<top (required)>'
/home/cristian/.rvm/gems/ruby-2.4.1/bin/ruby_executable_hooks:15:in `eval'
/home/cristian/.rvm/gems/ruby-2.4.1/bin/ruby_executable_hooks:15:in `<main>'

Caused by:
PG::ConnectionBad: PQconsumeInput() server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `async_exec'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `block (2 levels) in exec_no_cache'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql_adapter.rb:613:in `block in exec_no_cache'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block (2 levels) in log'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:611:in `block in log'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:603:in `log'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql_adapter.rb:612:in `exec_no_cache'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:92:in `exec_delete'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/database_statements.rb:140:in `update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/query_cache.rb:17:in `update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/relation.rb:85:in `_update_record'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/persistence.rb:575:in `_update_record'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/locking/optimistic.rb:80:in `_update_record'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/attribute_methods/dirty.rb:292:in `_update_record'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/callbacks.rb:344:in `block in _update_record'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:131:in `run_callbacks'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:827:in `_run_update_callbacks'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/callbacks.rb:344:in `_update_record'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/timestamp.rb:107:in `_update_record'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/persistence.rb:563:in `create_or_update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/callbacks.rb:336:in `block in create_or_update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:131:in `run_callbacks'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:827:in `_run_save_callbacks'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/callbacks.rb:336:in `create_or_update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/persistence.rb:129:in `save'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/validations.rb:44:in `save'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/attribute_methods/dirty.rb:35:in `save'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:308:in `block (2 levels) in save'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:384:in `block in with_transaction_returning_status'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/database_statements.rb:233:in `transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:210:in `transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:308:in `block in save'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:323:in `rollback_active_record_state!'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:307:in `save'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/suppressor.rb:42:in `save'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/persistence.rb:285:in `block in update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:384:in `block in with_transaction_returning_status'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `block in transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:194:in `block in within_new_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:210:in `transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/persistence.rb:283:in `update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/relation.rb:413:in `block in update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/relation.rb:413:in `each'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/relation.rb:413:in `update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/querying.rb:8:in `update'
/home/cristian/CryptoApp/lib/tasks/demo.rake:456:in `block (3 levels) in <top (required)>'
/home/cristian/CryptoApp/lib/tasks/demo.rake:449:in `each'
/home/cristian/CryptoApp/lib/tasks/demo.rake:449:in `block (2 levels) in <top (required)>'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/rake-12.3.0/exe/rake:27:in `<top (required)>'
/home/cristian/.rvm/gems/ruby-2.4.1/bin/ruby_executable_hooks:15:in `eval'
/home/cristian/.rvm/gems/ruby-2.4.1/bin/ruby_executable_hooks:15:in `<main>'

Caused by:
PG::ConnectionBad: PQconsumeInput() server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `async_exec'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `block (2 levels) in exec_no_cache'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql_adapter.rb:613:in `block in exec_no_cache'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block (2 levels) in log'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:611:in `block in log'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:603:in `log'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql_adapter.rb:612:in `exec_no_cache'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:92:in `exec_delete'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/database_statements.rb:140:in `update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/query_cache.rb:17:in `update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/relation.rb:85:in `_update_record'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/persistence.rb:575:in `_update_record'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/locking/optimistic.rb:80:in `_update_record'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/attribute_methods/dirty.rb:292:in `_update_record'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/callbacks.rb:344:in `block in _update_record'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:131:in `run_callbacks'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:827:in `_run_update_callbacks'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/callbacks.rb:344:in `_update_record'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/timestamp.rb:107:in `_update_record'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/persistence.rb:563:in `create_or_update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/callbacks.rb:336:in `block in create_or_update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:131:in `run_callbacks'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:827:in `_run_save_callbacks'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/callbacks.rb:336:in `create_or_update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/persistence.rb:129:in `save'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/validations.rb:44:in `save'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/attribute_methods/dirty.rb:35:in `save'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:308:in `block (2 levels) in save'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:384:in `block in with_transaction_returning_status'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/database_statements.rb:233:in `transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:210:in `transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:308:in `block in save'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:323:in `rollback_active_record_state!'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:307:in `save'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/suppressor.rb:42:in `save'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/persistence.rb:285:in `block in update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:384:in `block in with_transaction_returning_status'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `block in transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:194:in `block in within_new_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:210:in `transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/persistence.rb:283:in `update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/relation.rb:413:in `block in update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/relation.rb:413:in `each'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/relation.rb:413:in `update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/querying.rb:8:in `update'
/home/cristian/CryptoApp/lib/tasks/demo.rake:456:in `block (3 levels) in <top (required)>'
/home/cristian/CryptoApp/lib/tasks/demo.rake:449:in `each'
/home/cristian/CryptoApp/lib/tasks/demo.rake:449:in `block (2 levels) in <top (required)>'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/rake-12.3.0/exe/rake:27:in `<top (required)>'
/home/cristian/.rvm/gems/ruby-2.4.1/bin/ruby_executable_hooks:15:in `eval'
/home/cristian/.rvm/gems/ruby-2.4.1/bin/ruby_executable_hooks:15:in `<main>'
Tasks: TOP => btc_history:demo
(See full trace by running task with --trace)
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `async_exec'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql_adapter.rb:614:in `block (2 levels) in exec_no_cache'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql_adapter.rb:613:in `block in exec_no_cache'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block (2 levels) in log'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:611:in `block in log'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:603:in `log'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql_adapter.rb:612:in `exec_no_cache'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `execute_and_clear'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:92:in `exec_delete'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/database_statements.rb:140:in `update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/query_cache.rb:17:in `update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/relation.rb:85:in `_update_record'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/persistence.rb:575:in `_update_record'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/locking/optimistic.rb:80:in `_update_record'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/attribute_methods/dirty.rb:292:in `_update_record'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/callbacks.rb:344:in `block in _update_record'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:131:in `run_callbacks'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:827:in `_run_update_callbacks'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/callbacks.rb:344:in `_update_record'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/timestamp.rb:107:in `_update_record'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/persistence.rb:563:in `create_or_update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/callbacks.rb:336:in `block in create_or_update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:131:in `run_callbacks'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:827:in `_run_save_callbacks'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/callbacks.rb:336:in `create_or_update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/persistence.rb:129:in `save'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/validations.rb:44:in `save'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/attribute_methods/dirty.rb:35:in `save'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:308:in `block (2 levels) in save'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:384:in `block in with_transaction_returning_status'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/database_statements.rb:233:in `transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:210:in `transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:308:in `block in save'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:323:in `rollback_active_record_state!'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:307:in `save'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/suppressor.rb:42:in `save'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/persistence.rb:285:in `block in update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:384:in `block in with_transaction_returning_status'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `block in transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:194:in `block in within_new_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:210:in `transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/persistence.rb:283:in `update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/relation.rb:413:in `block in update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/relation.rb:413:in `each'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/relation.rb:413:in `update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/querying.rb:8:in `update'
/home/cristian/CryptoApp/lib/tasks/demo.rake:456:in `block (3 levels) in <top (required)>'
/home/cristian/CryptoApp/lib/tasks/demo.rake:449:in `each'
/home/cristian/CryptoApp/lib/tasks/demo.rake:449:in `block (2 levels) in <top (required)>'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/rake-12.3.0/exe/rake:27:in `<top (required)>'
/home/cristian/.rvm/gems/ruby-2.4.1/bin/ruby_executable_hooks:15:in `eval'
/home/cristian/.rvm/gems/ruby-2.4.1/bin/ruby_executable_hooks:15:in `<main>'
Tasks: TOP => btc_history:demo
(See full trace by running task with --trace)
FATAL:  terminando la conexi贸n debido a una orden del administrador
FATAL:  terminando la conexi贸n debido a una orden del administrador
rake aborted!
ActiveRecord::StatementInvalid: PG::ConnectionBad: PQconsumeInput() server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
: BEGIN
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block (2 levels) in log'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:611:in `block in log'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:603:in `log'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:210:in `transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/persistence.rb:283:in `update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/relation.rb:413:in `block in update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/relation.rb:413:in `each'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/relation.rb:413:in `update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/querying.rb:8:in `update'
/home/cristian/CryptoApp/lib/tasks/demo.rake:456:in `block (3 levels) in <top (required)>'
/home/cristian/CryptoApp/lib/tasks/demo.rake:449:in `each'
/home/cristian/CryptoApp/lib/tasks/demo.rake:449:in `block (2 levels) in <top (required)>'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/rake-12.3.0/exe/rake:27:in `<top (required)>'
/home/cristian/.rvm/gems/ruby-2.4.1/bin/ruby_executable_hooks:15:in `eval'
/home/cristian/.rvm/gems/ruby-2.4.1/bin/ruby_executable_hooks:15:in `<main>'

Caused by:
PG::ConnectionBad: PQconsumeInput() server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block (2 levels) in log'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:611:in `block in log'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:603:in `log'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:210:in `transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/persistence.rb:283:in `update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/relation.rb:413:in `block in update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/relation.rb:413:in `each'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/relation.rb:413:in `update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/querying.rb:8:in `update'
/home/cristian/CryptoApp/lib/tasks/demo.rake:456:in `block (3 levels) in <top (required)>'
/home/cristian/CryptoApp/lib/tasks/demo.rake:449:in `each'
/home/cristian/CryptoApp/lib/tasks/demo.rake:449:in `block (2 levels) in <top (required)>'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/rake-12.3.0/exe/rake:27:in `<top (required)>'
/home/cristian/.rvm/gems/ruby-2.4.1/bin/ruby_executable_hooks:15:in `eval'
/home/cristian/.rvm/gems/ruby-2.4.1/bin/ruby_executable_hooks:15:in `<main>'
Tasks: TOP => btc_history:demo
(See full trace by running task with --trace)
rake aborted!
ActiveRecord::StatementInvalid: PG::ConnectionBad: PQconsumeInput() server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
: BEGIN
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block (2 levels) in log'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:611:in `block in log'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:603:in `log'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:210:in `transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/persistence.rb:283:in `update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/relation.rb:413:in `block in update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/relation.rb:413:in `each'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/relation.rb:413:in `update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/querying.rb:8:in `update'
/home/cristian/CryptoApp/lib/tasks/demo.rake:456:in `block (3 levels) in <top (required)>'
/home/cristian/CryptoApp/lib/tasks/demo.rake:449:in `each'
/home/cristian/CryptoApp/lib/tasks/demo.rake:449:in `block (2 levels) in <top (required)>'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/rake-12.3.0/exe/rake:27:in `<top (required)>'
/home/cristian/.rvm/gems/ruby-2.4.1/bin/ruby_executable_hooks:15:in `eval'
/home/cristian/.rvm/gems/ruby-2.4.1/bin/ruby_executable_hooks:15:in `<main>'

Caused by:
PG::ConnectionBad: PQconsumeInput() server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `async_exec'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:73:in `block (2 levels) in execute'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:72:in `block in execute'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:612:in `block (2 levels) in log'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:611:in `block in log'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activesupport-5.1.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract_adapter.rb:603:in `log'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:71:in `execute'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/postgresql/database_statements.rb:131:in `begin_db_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:130:in `initialize'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `new'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:156:in `block in begin_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:152:in `begin_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:193:in `block in within_new_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/database_statements.rb:235:in `transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:210:in `transaction'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/transactions.rb:381:in `with_transaction_returning_status'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/persistence.rb:283:in `update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/relation.rb:413:in `block in update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/relation.rb:413:in `each'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/relation.rb:413:in `update'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.4/lib/active_record/querying.rb:8:in `update'
/home/cristian/CryptoApp/lib/tasks/demo.rake:456:in `block (3 levels) in <top (required)>'
/home/cristian/CryptoApp/lib/tasks/demo.rake:449:in `each'
/home/cristian/CryptoApp/lib/tasks/demo.rake:449:in `block (2 levels) in <top (required)>'
/home/cristian/.rvm/gems/ruby-2.4.1/gems/rake-12.3.0/exe/rake:27:in `<top (required)>'
/home/cristian/.rvm/gems/ruby-2.4.1/bin/ruby_executable_hooks:15:in `eval'
/home/cristian/.rvm/gems/ruby-2.4.1/bin/ruby_executable_hooks:15:in `<main>'
Tasks: TOP => btc_history:demo
(See full trace by running task with --trace)
Hecho!!
Hecho!!
Hecho!!
Hecho!!
Hecho!!
Hecho!!
Hecho!!
